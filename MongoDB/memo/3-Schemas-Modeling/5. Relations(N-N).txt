1. 다대다
=> 다대다 관계는 배열을 통한 임베딩이나 교차 테이블을 사용하여 형태를 만듭니다.
=> 교차 테이블은 하나의 중간 컬렉션을 임의로 생성하여 기존의 다대다 테이블의 ID들을 전달하는 방식입니다.
=> 이러면 다대다가 해소되어 일대다 관계를 맺게 됩니다.


2. 임베딩 VS 참조
=> 임베딩 방식은 데이터를 자주 함께 조회하고 변경이 적을 떄 사용합니다.
=> 참조 방식은 데이터 크기가 크거나, 개별 조회나 변경이 많을 떄 사용합니다.


3. user - post의 관계
=> user와 post는 일대다 관계입니다.
=> user는 여러개의 post를 가질 수 있습니다.
=> 이 떄 임베딩 방식을 사용하면 user에 collection에 post key를 추가하고 배열 안에서 여러 객체를 표현할 수 있습니다.

=> 만약 참조 방식을 사용하면 두 가지를 사용할 수 있습니다.
=> user에 post key에 postId만 부여할 수 있습니다.
=> post에 userId를 부여할 수 있습니다.
=> 이 중 post에 userId를 부여하는 것이 효율적인 방법입니다.
=> 데이터 크기, 조회 성능 최적화, 데이터 변경 성능이 더 좋습니다.


4. user-post-comment
=> user와 post는 일대다 관계
=> user와 comment는 일대다 관계
=> post와 comment는 일대다 관계

4-1. user는 user 정보만 갖고 post는 userId를 갖습니다. comment는 userId와 postId를 갖습니다.
=> 3개의 스키마를 만들어서 1:N 관계를 형성하는 방법입니다.

4-2. user는 user 정보만 갖고 post는 userId를 갖고 comment 자체를 임베딩하여 사용합니다.
=> 2개의 스키마를 만들고 조회 성능을 높은 구조입니다.